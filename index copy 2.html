<!DOCTYPE html>
<html>
<head>
  <title> Rock Paper Scissors</title>
  <meta charset="UTF-8"/>

  <style>
      h1 {
        font-size: 24px;
        font-family: monospace;
      }

      h2 {
        font-size: 14px;
        font-family: monospace;
      }

      h3 {
          font-size: 16;
          color: red;
      }

      button {
        font-family: monospace;
        font-size: 18px;
        padding: 5px;
      }

  </style>

</head>
<body>

    <h1>Rock. Paper. Scissors.</h1>
    <button id="rock">rock</button>
    <button id="paper">paper</button>
    <button id="scissors">scissors</button>

    <div>

    </div>

</body>
  <script>

    // FUNCTIONS

    function playerPlay(playerChoice) { // replace with buttons
        /* 
        let playerChoice = prompt("Please enter rock, paper, or scissors").toLowerCase();

	    while (!(playerChoice == "rock") && !(playerChoice == "paper") && !(playerChoice == "scissors")) {
            alert("Please enter a valid choice")
            playerChoice = prompt("Please enter rock, paper, or scissors").toLowerCase();
            }
        */
        return playerChoice;

    }   
  
    function computerPlay() {
        const computerChoice = ["rock", "paper", "scissors"];
        const computerRandom = computerChoice[Math.floor(Math.random() * computerChoice.length)];
        return computerRandom;
    }

    function playRound(playerSelection, computerSelection) { 
        // console.log(playerSelection + " vs " + computerSelection);

       /* const div = document.querySelector('div');
        const h2 = document.createElement('h2');
        h2.textContent = playerSelection + " vs " + computerSelection;
        div.appendChild(h2); */

       if (playerSelection == "rock"){
            if (computerSelection == "rock"){ outcome = "tie";}
            else if (computerSelection == "paper"){ outcome = "lose";}
            else if (computerSelection == "scissors"){ outcome = "win";}
       } 
        else if(playerSelection == "paper") {
            if (computerSelection == "rock"){ outcome = "win";}
            else if (computerSelection == "paper"){ outcome = "tie";}
            else if (computerSelection == "scissors"){ outcome = "lose";}
        }
        else if(playerSelection == "scissors") {
            if (computerSelection == "rock"){ outcome = "lose";}
            else if (computerSelection == "paper"){ outcome = "win";}
            else if (computerSelection == "scissors"){ outcome = "tie";}
        }

        return (playerSelection, computerSelection, outcome);

     }

     function gameOutcome(outcome, playerSelection, computerSelection) {
        if (outcome == "win") {
            // console.log(`You Win! ${playerSelection} beats ${computerSelection}`)

        const div = document.querySelector('div');
        const h2 = document.createElement('h2');
        h2.textContent = `You Win! ${playerSelection} beats ${computerSelection}`;
        div.appendChild(h2);

            return win = ++win;
        }
        else if (outcome == "lose"){
            // console.log(`You Lose! ${computerSelection} beats ${playerSelection}`)

        const div = document.querySelector('div');
        const h2 = document.createElement('h2');
        h2.textContent = `You Lose! ${computerSelection} beats ${playerSelection}`;
        div.appendChild(h2);

            return lose = ++lose;
        }
        else if (outcome == "tie") {
            // console.log(`It's a Tie! ${playerSelection} ties with ${computerSelection}`)

        const div = document.querySelector('div');
        const h2 = document.createElement('h2');
        h2.textContent = `It's a Tie! ${playerSelection} ties with ${computerSelection}`;
        div.appendChild(h2);

            return tie = ++tie;
        }
    }

    // GAME 

    let rounds = 1;
    let outcome = "";
    let win = 0;
    let lose = 0;
    let tie = 0;

    const buttons = document.querySelectorAll('button');        
    buttons.forEach((button) => {
    button.addEventListener('click', () => {

    if (rounds <= 5){

        const playerSelection = playerPlay(button.id);
        const computerSelection = computerPlay();
        playRound(playerSelection, computerSelection);
        gameOutcome(outcome, playerSelection, computerSelection); 

        /* const div = document.querySelector('div');
        const h2 = document.createElement('h2');
        h2.textContent = `Round ${rounds}: won ${win}, lost ${lose}, tied ${tie}`;
        div.appendChild(h2); */

    
    if (rounds == 5){

            if (win > lose) {
        //console.log(`You Won!: won ${win}, lost ${lose}, tied ${tie}`)
        const div = document.querySelector('div');
        const h3 = document.createElement('h3');
        h3.textContent = `You Won!: won ${win}, lost ${lose}, tied ${tie}`;
        div.appendChild(h3);
    }
    else if (lose > win) {
        //console.log(`You Lost!: won ${win}, lost ${lose}, tied ${tie}`)
        const div = document.querySelector('div');
        const h3 = document.createElement('h3');
        h3.textContent = `You Lost!: won ${win}, lost ${lose}, tied ${tie}`;
        div.appendChild(h3);
    }
    else if (lose == win) {
        //console.log(`You Tied!: won ${win}, lost ${lose}, tied ${tie}`)
        const div = document.querySelector('div');
        const h3 = document.createElement('h3');
        h3.textContent = `You Tied!: won ${win}, lost ${lose}, tied ${tie}`;
        div.appendChild(h3);
    }
    }

    rounds = ++rounds;
    }

        });
        });

   
       
       /* console.log(`Round ${rounds}: won ${win}, lost ${lose}, tied ${tie}`);

        const div = document.querySelector('div');
        const h2 = document.createElement('h2');
        h2.textContent = `Round ${rounds}: won ${win}, lost ${lose}, tied ${tie}`;
        div.appendChild(h2); */
    
    
/*
    // GAME END

    if (win > lose) {
        console.log(`You Won!: won ${win}, lost ${lose}, tied ${tie}`)
    }
    else if (lose > win) {
        console.log(`You Lost!: won ${win}, lost ${lose}, tied ${tie}`)
    }
    else if (lose == win) {
        console.log(`You Tied!: won ${win}, lost ${lose}, tied ${tie}`)
    }


    // DOM manipulation


    const rock = document.querySelector('#rock');
    rock.addEventListener('click', () => {
        const playerSelection = playerPlay(playerChoice);;
  });

  const paper = document.querySelector('#paper');
    paper.addEventListener('click', () => {
    alert("Hello World");
  });

  const scissors = document.querySelector('#scissors');
    scissors.addEventListener('click', () => {
    alert("Hello World");
  });

*/

  </script>

</body>
</html>